<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <title>Russia–Ukraine Knowledge Graph Viewer</title>
  <meta name="viewport" content="width=device-width, initial-scale=1" />

  <style>
    body {
      font-family: system-ui, -apple-system, BlinkMacSystemFont, "Segoe UI", sans-serif;
      margin: 0;
      padding: 0;
      background: #f5f5f7;
      color: #111827;
    }
    header {
      padding: 1rem 1.5rem;
      background: #111827;
      color: #f9fafb;
      display: flex;
      align-items: baseline;
      justify-content: space-between;
      gap: 1rem;
      flex-wrap: wrap;
    }
    header h1 {
      margin: 0;
      font-size: 1.2rem;
    }
    header p {
      margin: 0.25rem 0 0;
      font-size: 0.85rem;
      opacity: 0.8;
    }
    #status {
      font-size: 0.8rem;
      color: #9ca3af;
      white-space: nowrap;
    }
    #network {
      height: calc(100vh - 72px);
      border-top: 1px solid #e5e7eb;
      background: #ffffff;
    }
  </style>

  <link
    rel="stylesheet"
    href="https://unpkg.com/vis-network/styles/vis-network.min.css"
  />
</head>
<body>
  <header>
    <div>
      <h1>Russia–Ukraine Knowledge Graph</h1>
      <p>Interactive viewer (pan, zoom, drag nodes, hover to see relations).</p>
    </div>
    <div id="status">Loading graph…</div>
  </header>

  <div id="network"></div>

  <script src="https://unpkg.com/vis-network/standalone/umd/vis-network.min.js"></script>
  <script>
    fetch("kg-data.json")
      .then((res) => res.json())
      .then((data) => {
        const nodes = new vis.DataSet(data.nodes);
        const edges = new vis.DataSet(data.edges);

        const container = document.getElementById("network");

        const options = {
          layout: {
            improvedLayout: true
          },
          physics: {
            enabled: true,
            stabilization: {
              iterations: 250,
              fit: true
            }
          },
          interaction: {
            hover: true,
            dragNodes: true,
            dragView: true,
            zoomView: true
          },
          nodes: {
            shape: "dot",
            size: 12,
            borderWidth: 1,
            color: {
              background: "#6366f1",
              border: "#4f46e5",
              highlight: {
                background: "#4f46e5",
                border: "#312e81"
              }
            },
            font: {
              size: 14,
              color: "#111827"
            }
          },
          edges: {
            arrows: "to",
            smooth: {
              type: "dynamic"
            },
            color: {
              color: "#9ca3af",
              highlight: "#4b5563"
            },
            font: {
              size: 10,
              align: "middle",
              color: "#374151",
              background: "#f9fafb"
            }
          }
        };

        const network = new vis.Network(container, { nodes, edges }, options);

        document.getElementById("status").textContent =
          data.nodes.length + " nodes, " + data.edges.length + " edges";
      })
      .catch((err) => {
        console.error(err);
        document.getElementById("status").textContent =
          "Failed to load kg-data.json";
      });
  </script>
</body>
</html>
